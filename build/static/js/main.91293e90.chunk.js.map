{"version":3,"sources":["components/personForm.js","components/filter.js","components/Person.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","newName","newNumber","handleNameChange","handleNumberChange","addPerson","onSubmit","value","onChange","type","Filter","text","filter","handler","Person","person","remove","name","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorNotificationStyle","Notification","message","messageType","console","log","style","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","personService","initialPersons","personsToShow","toLowerCase","indexOf","event","target","preventDefault","personObject","map","returnedPerson","concat","setTimeout","window","confirm","find","catch","error","removedId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.91293e90.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({newName, newNumber, handleNameChange, handleNumberChange, addPerson}) => {\r\n\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n        <div>name: <input value={newName}\r\n            onChange={handleNameChange}/></div>\r\n        <div>number: <input value={newNumber}\r\n            onChange={handleNumberChange} /></div>\r\n        <div><button type=\"submit\">add</button></div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({text, filter, handler}) => {\r\n  return (\r\n  <div>{text}<input value = {filter} onChange = {handler}/></div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({person, remove}) => {\r\n    return (\r\n        <p key={person.name}>\r\n        {person.name} {person.number}\r\n        <button \r\n          key = {person.name}\r\n          onClick = {remove}>delete</button>\r\n      </p>\r\n    )\r\n}\r\n\r\nexport default Person","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst notificationStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n}\r\nconst errorNotificationStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n}\r\n\r\nconst Notification = ({ message, messageType }) => {\r\n    console.log('messageType: ', messageType)\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n  \r\n    return (\r\n      <div style={messageType ? errorNotificationStyle : notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/personForm'\r\nimport Filter from './components/filter'\r\nimport Person from './components/Person'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\nimport './index.css'\r\n\r\nlet messageType = false\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    console.log('')\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n        \r\n      })\r\n  }, [])\r\n  console.log('persons: ', persons)\r\n\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n    \r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    console.log(event.target.value)\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.map(person => person.name).indexOf(newName) === -1) {\r\n      personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        setMessage(`Added ${personObject.name}`)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 2000)\r\n      })\r\n    }  else { \r\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)) {\r\n          personService\r\n          .update(persons.find(person => person.name === newName).id, personObject)\r\n          .then(response => {\r\n            setPersons(persons.map(person => person.id !== response.id ? person : personObject))\r\n            setMessage(`${personObject.name}s number changed succesfully`)\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 2000)\r\n          })\r\n          .catch(error => {\r\n            messageType = true\r\n            console.log('true or false? ', messageType)\r\n            setMessage(\r\n              `Information of ${personObject.name} has already been removed from server`\r\n            )\r\n            setPersons(persons.filter(person => person.name !== newName))\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n              messageType = false\r\n            }, 5000)\r\n          })\r\n        }\r\n    }\r\n\r\n    setNewName('')\r\n    setNewNumber('') \r\n }\r\n\r\n  const deletePerson = (id) => {\r\n\r\n    if (window.confirm(`Are you sure you want to delete ${persons.find(person => person.id === id).name}?`)) {\r\n            personService\r\n            .remove(id)\r\n            .then(removedId => {\r\n            setPersons(persons.filter(person => person.id !== id))\r\n            setMessage(`Deleted ${persons.find(person => person.id === id).name}`)\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 2000)\r\n          })\r\n      }    \r\n  }\r\n\r\n  const personsToShow = \r\n      persons.filter(person => person.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1) \r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n        <Notification message={message} messageType = {messageType}/>\r\n        <Filter text = 'filter shown with' filter = {filter} handler = {handleFilterChange} />\r\n             \r\n      <h2>add a new</h2>\r\n\r\n      <PersonForm newName = {newName} newNumber = {newNumber} \r\n        handleNameChange = {handleNameChange} handleNumberChange = {handleNumberChange} \r\n        addPerson = {addPerson}/>\r\n\r\n      <h2>Numbers</h2>\r\n\r\n      {personsToShow.map(person => \r\n        <Person key = {person.name} person = {person} remove = {() => deletePerson(person.id)}  />\r\n      )}\r\n      \r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\n\nReactDOM.render(<App/>,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}